<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<VBox spacing="20" style="-fx-background-color: transparent;" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.hotel.management.system.controller.CheckOutController">
    <padding><Insets bottom="10" left="10" right="10" top="10" /></padding>

    <!-- Check-Out Form -->
    <VBox spacing="20" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 25; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">

        <!-- Select Room Section -->
        <VBox spacing="15">

            <HBox prefHeight="49.0" prefWidth="720.0" spacing="20">
                <VBox prefHeight="57.0" prefWidth="400" spacing="8">
                    <Label style="-fx-text-fill: #666; -fx-font-size: 14; -fx-font-weight: bold;" text="Occupied Room *" />
                    <ComboBox fx:id="occupiedRoomsCombo" prefHeight="21.0" prefWidth="400.0" promptText="Select occupied room" style="-fx-padding: 5;" />
                </VBox>
            <Region prefHeight="200.0" prefWidth="200.0" HBox.hgrow="ALWAYS" />
            <VBox alignment="BOTTOM_CENTER" prefHeight="63.0" prefWidth="69.0" style="-fx-padding: 5;">
               <children>
                  <Button onAction="#onClear" prefHeight="25.0" prefWidth="87.0" style="-fx-background-color: #666; -fx-text-fill: white; -fx-background-radius: 5;" text="Clear" />
               </children>
            </VBox>
            </HBox>
        </VBox>

        <!-- Guest Details Section -->
        <VBox spacing="15" style="-fx-background-color: #f8f9fa; -fx-background-radius: 8; -fx-padding: 20;">
            <Label style="-fx-text-fill: #333; -fx-font-size: 16; -fx-font-weight: bold;" text="Stay Details" />

            <HBox spacing="40">
                <VBox spacing="5">
                    <Label style="-fx-text-fill: #666; -fx-font-size: 14;" text="Check-In Date" />
                    <Label fx:id="checkinDateLabel" style="-fx-text-fill: #333; -fx-font-size: 16;" text="-" />
                </VBox>

                <VBox spacing="5">
                    <Label style="-fx-text-fill: #666; -fx-font-size: 14;" text="Nights Stayed" />
                    <Label fx:id="nightsStayedLabel" style="-fx-text-fill: #333; -fx-font-size: 16;" text="-" />
                </VBox>

                <VBox spacing="5">
                    <Label style="-fx-text-fill: #666; -fx-font-size: 14;" text="Room Number" />
                    <Label fx:id="checkoutRoomNumber" style="-fx-text-fill: #333; -fx-font-size: 16;" text="-" />
                </VBox>
            </HBox>
        </VBox>

        <!-- Bill Calculation Section -->
        <VBox spacing="15" style="-fx-background-color: #f0f7ff; -fx-background-radius: 8; -fx-padding: 20;">
            <Label style="-fx-text-fill: #333; -fx-font-size: 18; -fx-font-weight: bold;" text="Bill Calculation" />

            <VBox spacing="10">
                <HBox spacing="200">
                    <VBox spacing="8">
                        <Label style="-fx-text-fill: #666; -fx-font-size: 14;" text="Room Rate per Night:" />
                        <Label style="-fx-text-fill: #666; -fx-font-size: 14;" text="Number of Nights:" />
                        <Label style="-fx-text-fill: #666; -fx-font-size: 14;" text="Subtotal:" />
                        <Label style="-fx-text-fill: #666; -fx-font-size: 14;" text="Tax (10%):" />
                        <Label style="-fx-text-fill: #333; -fx-font-size: 16; -fx-font-weight: bold;" text="Total Amount:" />
                    </VBox>

                    <VBox alignment="TOP_RIGHT" spacing="8">
                        <Label fx:id="roomRateLabel" style="-fx-text-fill: #666; -fx-font-size: 14;" text="0.00" />
                        <Label fx:id="nightsCountLabel" style="-fx-text-fill: #666; -fx-font-size: 14;" text="0" />
                        <Label fx:id="subtotalLabel" style="-fx-text-fill: #666; -fx-font-size: 14;" text="0.00" />
                        <Label fx:id="taxLabel" style="-fx-text-fill: #666; -fx-font-size: 14;" text="0.00" />
                        <Label fx:id="finalAmountLabel" style="-fx-text-fill: #2196f3; -fx-font-size: 24; -fx-font-weight: bold;" text="0.00" />
                    </VBox>
                </HBox>
            </VBox>
        </VBox>

        <!-- Action Buttons -->
        <HBox alignment="CENTER" spacing="15">
            <Button fx:id="calculateBtn" onAction="#onCalculate" style="-fx-background-color: #2196f3; -fx-text-fill: white; -fx-font-size: 14; -fx-background-radius: 8; -fx-pref-height: 45; -fx-pref-width: 150;" text="Calculate Bill" />

            <Button fx:id="completeCheckoutBtn" onAction="#onCompleteCheckOut" style="-fx-background-color: #f44336; -fx-text-fill: white; -fx-font-size: 16; -fx-font-weight: bold; -fx-background-radius: 8; -fx-pref-height: 45; -fx-pref-width: 200;" text="Complete Check-Out" />
        </HBox>
    </VBox>
</VBox>
