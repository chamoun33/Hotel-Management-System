<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>

<TabPane prefHeight="612.0" prefWidth="801.0" style="-fx-background-color: transparetn;" tabClosingPolicy="UNAVAILABLE" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.hotel.management.system.controller.BookingController">

    <!-- ================= TAB 1 : NEW RESERVATION ================= -->
    <tabs>
        <Tab text="New Reservation">
            <content>
                <AnchorPane style="-fx-background-color: #f5f7fa;">
                    <VBox spacing="20" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">

                        <padding>
                            <Insets bottom="20" left="20" right="20" top="20" />
                        </padding>

                        <!-- Title -->
                        <Label style="-fx-font-size: 20; -fx-font-weight: bold; -fx-text-fill: #333;" text="New Reservation" />

                        <!-- Guest Selection -->
                        <VBox spacing="8" style="-fx-background-color:white;-fx-padding:15;-fx-background-radius:10;">
                            <Label style="-fx-font-weight:bold;" text="Guest" />

                            <HBox spacing="10">
                                <ComboBox fx:id="guestComboBox" editable="true" prefWidth="300" promptText="Search guest..." />

                                <Button onAction="#openAddGuestPopup" style="-fx-background-color:#2196f3;-fx-text-fill:white;" text="+ Add Guest" />
                            </HBox>

                            <VBox fx:id="guestInfoBox" managed="false" spacing="6" style="-fx-background-color:#f9f9f9;-fx-padding:10;-fx-background-radius:8;" visible="false">
                                <Label style="-fx-font-weight:bold;" text="Guest Info" />
                                <Label fx:id="guestNameLabel" />
                                <Label fx:id="guestPhoneLabel" />
                                <Label fx:id="guestEmailLabel" />
                            </VBox>
                        </VBox>

                        <!-- Room Selection -->
                        <VBox spacing="8" style="-fx-background-color:white;-fx-padding:15;-fx-background-radius:10;">
                            <Label style="-fx-font-weight:bold;" text="Room" />
                            <ComboBox fx:id="roomComboBox" prefWidth="300" promptText="Select available room" />
                        </VBox>

                        <!-- Room Details -->
                        <VBox spacing="8" style="-fx-background-color:white;-fx-padding:15;-fx-background-radius:10;">
                            <Label style="-fx-font-weight:bold;" text="Room Details" />

                            <GridPane hgap="20" vgap="10">
                                <Label text="Room Type:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                                <Label fx:id="roomTypeLabel" text="—" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                                <Label text="Price / Night:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                                <Label fx:id="roomPriceLabel" text="—" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                                <Label text="Capacity:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                                <Label fx:id="roomCapacityLabel" text="—" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                        <columnConstraints>
                           <ColumnConstraints />
                           <ColumnConstraints />
                        </columnConstraints>
                        <rowConstraints>
                           <RowConstraints />
                           <RowConstraints />
                           <RowConstraints />
                        </rowConstraints>
                            </GridPane>
                        </VBox>

                        <!-- Dates -->
                        <VBox spacing="8" style="-fx-background-color:white;-fx-padding:15;-fx-background-radius:10;">
                            <Label style="-fx-font-weight:bold;" text="Stay Duration" />

                            <HBox spacing="20">
                                <VBox spacing="5">
                                    <Label text="Check-in Date" />
                                    <DatePicker fx:id="checkInDatePicker" />
                                </VBox>

                                <VBox spacing="5">
                                    <Label text="Check-out Date" />
                                    <DatePicker fx:id="checkOutDatePicker" />
                                </VBox>
                            </HBox>
                        </VBox>

                        <!-- Actions -->
                        <HBox alignment="CENTER_RIGHT" spacing="15">
                            <Button onAction="#cancel" style="-fx-background-color:#777;-fx-text-fill:white;" text="Cancel" />
                            <Button onAction="#confirmBooking" style="-fx-background-color:#4caf50;-fx-text-fill:white;" text="Confirm Booking" />
                        </HBox>

                    </VBox>
                </AnchorPane>
            </content>
        </Tab>

        <!-- ================= TAB 2 : RESERVATIONS TABLE ================= -->
        <Tab text="Reservations Table" fx:id="reservationsTab">
            <content>
                <fx:include source="ReservationTable.fxml" fx:id="reservationTable" />
            </content>
        </Tab>
    </tabs>

</TabPane>
